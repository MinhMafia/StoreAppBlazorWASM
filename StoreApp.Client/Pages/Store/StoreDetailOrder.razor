@page "/api/store/detailorder"
@layout StoreLayout
@using StoreApp.Shared

<PageTitle>Chi tiết đơn hàng</PageTitle>

<!-- BẮT BUỘC: Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- Tailwind CDN + Config màu custom -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    primary: '#4ade80',
                    primaryDark: '#22c55e',
                    primaryLight: '#86efac',
                    success: '#10b981',
                    momo: '#d82d8b'
                }
            }
        }
    }
</script>

<style>
    /* Reset font vừa mắt, không bị to quá */
    body {
        font-family: system-ui, -apple-system, sans-serif;
    }

    h1,
    h2,
    h3,
    h4 {
        line-height: 1.3;
    }
</style>

<div class="max-w-7xl mx-auto px-4 py-8 sm:py-12">

    <!-- Header thành công -->
    <div class="text-center mb-10">
        <h1 class="text-3xl sm:text-5xl font-bold text-success mb-3">CHI TIẾT ĐƠN HÀNG!</h1>
    </div>

    <div class="grid lg:grid-cols-3 gap-6 lg:gap-8">

        <!-- CỘT TRÁI -->
        <div class="lg:col-span-2 space-y-6">

            <!-- Thông tin đơn hàng -->
            <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-5">Thông tin đơn hàng</h3>
                <div class="grid grid-cols-2 gap-4 text-base">
                    <div>
                        <p class="text-gray-500 text-sm">Mã đơn hàng</p>
                        <p class="font-bold text-primaryDark text-lg">#ORD-20251205-0987</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">Thời gian đặt</p>
                        <p class="font-bold">05/12/2025 - 14:30</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">Trạng thái</p>
                        <p class="font-bold text-orange-600">Đang xử lý</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">Nhân viên xử lý</p>
                        <p class="font-bold text-primary">Nguyễn Thị Lan Anh</p>
                    </div>
                </div>
            </div>

            <!-- Thông tin nhận hàng -->
            <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-5">Thông tin nhận hàng</h3>
                <div class="space-y-4 text-base">
                    <div class="flex justify-between"><span class="text-gray-500">Khách hàng</span><span
                            class="font-bold">Trần Văn A</span></div>
                    <div class="flex justify-between"><span class="text-gray-500">Số điện thoại</span><span
                            class="font-bold">0909 123 456</span></div>
                    <div class="flex justify-between items-start"><span class="text-gray-500">Địa chỉ giao</span><span
                            class="font-medium text-right max-w-48">123 Đường Láng, P. Láng Thượng, Q. Đống Đa, Hà
                            Nội</span></div>
                    <div class="flex justify-between"><span class="text-gray-500">Ghi chú</span><span
                            class="italic text-gray-600 text-right max-w-48">Giao sau 18h, để trước cửa giúp em ạ</span>
                    </div>
                </div>
            </div>

            <!-- Danh sách sản phẩm -->
            <div class="bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100">
                <div class="bg-gradient-to-r from-primary to-primaryDark text-white p-4 sm:p-6">
                    <h3 class="text-xl sm:text-2xl font-bold">Sản phẩm đã mua (<span id="item-count">20</span> món)</h3>
                </div>

                <div class="max-h-96 overflow-y-auto divide-y divide-gray-100">
                    <!-- Item mẫu -->
                    <div class="flex gap-4 p-5 hover:bg-primaryLight/5 transition">
                        <img class="w-20 h-20 object-cover rounded-xl shadow" src="/images/sample1.jpg" alt="SP">
                        <div class="flex-1 min-w-0">
                            <h4 class="font-medium text-gray-800 line-clamp-2">Nước tăng lực Red Bull Thái 250ml x3</h4>
                            <div class="flex items-center gap-3 mt-2 text-sm">
                                <span class="bg-primaryLight text-primaryDark px-3 py-1 rounded-full font-bold">3</span>
                                <span class="text-gray-600">×</span>
                                <span class="font-medium">12.500₫</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-primaryDark">37.500₫</p>
                        </div>
                    </div>

                    <div class="flex gap-4 p-5 hover:bg-primaryLight/5 transition">
                        <img class="w-20 h-20 object-cover rounded-xl shadow" src="/images/sample2.jpg" alt="SP">
                        <div class="flex-1 min-w-0">
                            <h4 class="font-medium text-gray-800 line-clamp-2">Mì Hảo Hảo tôm chua cay 75g</h4>
                            <div class="flex items-center gap-3 mt-2 text-sm">
                                <span
                                    class="bg-primaryLight text-primaryDark px-3 py-1 rounded-full font-bold">10</span>
                                <span class="text-gray-600">×</span>
                                <span class="font-medium">4.500₫</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-primaryDark">45.000₫</p>
                        </div>
                    </div>

                    <div class="flex gap-4 p-5 hover:bg-primaryLight/5 transition">
                        <img class="w-20 h-20 object-cover rounded-xl shadow" src="/images/sample2.jpg" alt="SP">
                        <div class="flex-1 min-w-0">
                            <h4 class="font-medium text-gray-800 line-clamp-2">Mì Hảo Hảo tôm chua cay 75g</h4>
                            <div class="flex items-center gap-3 mt-2 text-sm">
                                <span
                                    class="bg-primaryLight text-primaryDark px-3 py-1 rounded-full font-bold">10</span>
                                <span class="text-gray-600">×</span>
                                <span class="font-medium">4.500₫</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-primaryDark">45.000₫</p>
                        </div>
                    </div>

                    <div class="flex gap-4 p-5 hover:bg-primaryLight/5 transition">
                        <img class="w-20 h-20 object-cover rounded-xl shadow" src="/images/sample2.jpg" alt="SP">
                        <div class="flex-1 min-w-0">
                            <h4 class="font-medium text-gray-800 line-clamp-2">Mì Hảo Hảo tôm chua cay 75g</h4>
                            <div class="flex items-center gap-3 mt-2 text-sm">
                                <span
                                    class="bg-primaryLight text-primaryDark px-3 py-1 rounded-full font-bold">10</span>
                                <span class="text-gray-600">×</span>
                                <span class="font-medium">4.500₫</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-primaryDark">45.000₫</p>
                        </div>
                    </div>

                    <!-- Thêm các món khác tương tự -->
                </div>
            </div>

        </div>

        <!-- CỘT PHẢI -->
        <div class="space-y-6">

            <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                <h3 class="text-lg font-bold mb-4">Khuyến mãi</h3>
                <div class="p-4 bg-primaryLight/20 rounded-xl flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-check-circle text-primary text-xl"></i>
                        <div>
                            <p class="font-bold text-primary">GIAM50K</p>
                            <p class="text-sm text-gray-600">Giảm 50k cho đơn từ 500k</p>
                        </div>
                    </div>
                    <span class="font-bold text-primary text-lg">-50.000₫</span>
                </div>
            </div>

            <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                <h3 class="text-lg font-bold mb-4">Thanh toán</h3>
                <div class="p-5 bg-gradient-to-br from-momo/10 to-pink-50 rounded-xl border-2 border-momo">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <img src="https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png" class="h-9">
                            <div>
                                <p class="font-bold text-momo">Ví MoMo</p>
                                <p class="text-sm text-green-600 font-bold">Đã thanh toán</p>
                            </div>
                        </div>
                        <div class="text-right text-sm">
                            <p class="text-green-600 font-bold">Thành công</p>
                            <p class="text-gray-500">GD: 173339123456789</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-primary to-primaryDark text-white rounded-2xl shadow-xl p-6">
                <h3 class="text-xl font-bold mb-5">Tóm tắt thanh toán</h3>
                <div class="space-y-3">
                    <div class="flex justify-between"><span>Tạm tính</span><span>672.000₫</span></div>
                    <div class="flex justify-between"><span>Phí vận chuyển</span><span>30.000₫</span></div>
                    <div class="flex justify-between text-yellow-300 font-bold"><span>Giảm
                            giá</span><span>-50.000₫</span></div>
                    <div class="border-t border-white/30 pt-3 mt-3">
                        <div class="flex justify-between text-2xl font-bold">
                            <span>Tổng tiền</span>
                            <span>652.000₫</span>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>